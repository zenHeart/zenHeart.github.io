(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{341:function(v,e,_){"use strict";_.r(e);var i=_(4),o=Object(i.a)({},function(){var v=this,e=v.$createElement,_=v._self._c||e;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"web-dev"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#web-dev","aria-hidden":"true"}},[v._v("#")]),v._v(" web_dev")]),v._v(" "),_("p",[_("strong",[v._v("前言:微信官方文档网页开发说明")])]),v._v(" "),_("hr"),v._v(" "),_("h2",{attrs:{id:"网页开发"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#网页开发","aria-hidden":"true"}},[v._v("#")]),v._v(" "),_("a",{attrs:{href:"https://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1483682025_enmey",target:"_blank",rel:"noopener noreferrer"}},[v._v("网页开发"),_("OutboundLink")],1)]),v._v(" "),_("p",[v._v("浏览器内核为 "),_("code",[v._v("WKWebview")]),v._v(" 或 "),_("code",[v._v("UIWebview")]),v._v("\n微信 6.5.3 以后支持手动切换内核.")]),v._v(" "),_("ol",[_("li",[v._v("微信主页点击右上角加好")]),v._v(" "),_("li",[v._v("点击添加朋友")]),v._v(" "),_("li",[v._v("输入 "),_("code",[v._v(":switchweb")])]),v._v(" "),_("li",[v._v("会给出提示框显示当前使用内核为 "),_("code",[v._v("UIWebview")]),v._v(" 还是 "),_("code",[v._v("WKWebview")])])]),v._v(" "),_("blockquote",[_("p",[v._v("在 WKebview 界面下会出现闪烁问题,")])]),v._v(" "),_("p",[v._v("查看当前内核")]),v._v(" "),_("ul",[_("li",[v._v("进入任意网页下拉网页")]),v._v(" "),_("li",[v._v("点击任意网页右上角菜单")])]),v._v(" "),_("p",[v._v("显示 "),_("code",[v._v("此网页由")]),v._v(" 为 "),_("code",[v._v("WKWebview")]),v._v(" ,"),_("code",[v._v("网页由")]),v._v(" 为 "),_("code",[v._v("UIWebview")])]),v._v(" "),_("p",[v._v("利用 "),_("code",[v._v("window.__wxjs_is_wkwebview")]),v._v(" 为真使用 "),_("code",[v._v("WKWebview")])]),v._v(" "),_("p",[_("strong",[v._v("经验在 ios 特性时,使用 safri 来进行类比")])]),v._v(" "),_("p",[v._v("微信在 "),_("code",[v._v("WKWebview")]),v._v(" 中注入了 "),_("code",[v._v("JSBridge")]),v._v(" 对象.\n重点关注如下问题")]),v._v(" "),_("ul",[_("li",[v._v("页面功能")]),v._v(" "),_("li",[v._v("页面屏幕适配")]),v._v(" "),_("li",[v._v("利用微信按钮点击返回行为")]),v._v(" "),_("li",[v._v("页面 js 缘分兼容性")]),v._v(" "),_("li",[v._v("JSAPI 兼容性")]),v._v(" "),_("li",[v._v("cookie 和 localstroage 存储")]),v._v(" "),_("li",[v._v("cache-control 缓存机制设定")])]),v._v(" "),_("h3",{attrs:{id:"jsapi"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#jsapi","aria-hidden":"true"}},[v._v("#")]),v._v(" jsapi")]),v._v(" "),_("ul",[_("li",[v._v("不支持 "),_("code",[v._v("cache")]),v._v(" api.")]),v._v(" "),_("li",[v._v("wx.config 失败")])]),v._v(" "),_("p",[v._v("ios 微信 6.5.1 以下,使用 HTMl5 "),_("code",[v._v("Histroy API")])]),v._v(" "),_("ul",[_("li",[_("code",[v._v("pushState")])]),v._v(" "),_("li",[_("code",[v._v("popState")])]),v._v(" "),_("li",[_("code",[v._v("replaceState")]),v._v(" 控制页面导航时(单页面应用)\n同时使用 "),_("code",[v._v("JSSDK")]),v._v(" wx.config 授权 jsapi 出现无权限而调用失败")])]),v._v(" "),_("p",[v._v("ios 微信 6.5.2 之后,可能出现此问题")]),v._v(" "),_("blockquote",[_("p",[v._v("注意使用 jssdk 时开启调试模式简化调试步骤")])]),v._v(" "),_("h3",{attrs:{id:"cookie-和-localstorage"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#cookie-和-localstorage","aria-hidden":"true"}},[v._v("#")]),v._v(" cookie 和 localStorage")]),v._v(" "),_("p",[v._v("退出微信会被清空.")]),v._v(" "),_("p",[v._v("需保证服务端设置了 "),_("code",[v._v("cache control")]),v._v(" 后再进行 html 页面缓存设置.")])])},[],!1,null,null,null);e.default=o.exports}}]);