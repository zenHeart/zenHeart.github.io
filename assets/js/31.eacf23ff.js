(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{307:function(t,e,v){"use strict";v.r(e);var _=v(4),a=Object(_.a)({},function(){var t=this,e=t.$createElement,v=t._self._c||e;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"理解版本命名及限定规则"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#理解版本命名及限定规则","aria-hidden":"true"}},[t._v("#")]),t._v(" 理解版本命名及限定规则")]),t._v(" "),v("p",[v("strong",[t._v("版本命名和版本限定的相关知识")])]),t._v(" "),v("h2",{attrs:{id:"版本命名规则"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#版本命名规则","aria-hidden":"true"}},[t._v("#")]),t._v(" 版本命名规则")]),t._v(" "),v("p",[t._v("我们常见的版本命名格式为")]),t._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v("[name].x.y.z-[state]\n")])])]),v("ul",[v("li",[v("p",[v("code",[t._v("name")]),t._v("为可选字段,一般为 "),v("code",[t._v("v")]),t._v(",表示 version")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("x.y.z")]),t._v(" 为各版本的序号，遵循 "),v("a",{attrs:{href:"http://semver.org/lang/zh-CN/",target:"_blank",rel:"noopener noreferrer"}},[t._v("语义化版本命名规范"),v("OutboundLink")],1),t._v(" "),v("strong",[t._v("实际上基于此规范,不应该在版本前出现 name 字段.")])])]),t._v(" "),v("li",[v("p",[v("code",[t._v("state")]),t._v(" 可选字段,表示版本状态,例如 "),v("code",[t._v("b")]),t._v(" 表示 beta 测试版,其他常见状态,后有详述")])])]),t._v(" "),v("h3",{attrs:{id:"语义化版本命名规则"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#语义化版本命名规则","aria-hidden":"true"}},[t._v("#")]),t._v(" 语义化版本命名规则")]),t._v(" "),v("p",[t._v("该规则对版本的迭代命名,做了很好的限制.\n核心规则如下.")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",{staticStyle:{"text-align":"left"}},[t._v("序号")]),t._v(" "),v("th",{staticStyle:{"text-align":"left"}},[t._v("格式要求")]),t._v(" "),v("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),v("tbody",[v("tr",[v("td",{staticStyle:{"text-align":"left"}},[t._v("x")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("非负整数")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("主版本号(major)，进行不向下兼容的修改时，递增主版本号")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[t._v("y")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("非负整数")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("次版本号(minor)，保持向下兼容,新增特性时，递增次版本号")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[t._v("z")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("非负整数")]),t._v(" "),v("td",{staticStyle:{"text-align":"left"}},[t._v("修订号(patch),保持向下兼容,修复问题但不影响特性时，递增修订号")])])])]),t._v(" "),v("ul",[v("li",[v("code",[t._v("0.y.z")]),t._v(" 表示开发阶段，一切可能随时改变，非稳定版。")]),t._v(" "),v("li",[v("code",[t._v("1.0.0")]),t._v(" 界定此版本为初始稳定版，后面的一切更新都基于此版本进行修改。")])]),t._v(" "),v("h3",{attrs:{id:"版本状态"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#版本状态","aria-hidden":"true"}},[t._v("#")]),t._v(" 版本状态")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",{staticStyle:{"text-align":"left"}},[t._v("描述方式")]),t._v(" "),v("th",[t._v("说明")]),t._v(" "),v("th",[t._v("含义")])])]),t._v(" "),v("tbody",[v("tr",[v("td",{staticStyle:{"text-align":"left"}},[v("code",[t._v("α")]),t._v("或"),v("code",[t._v("a")])]),t._v(" "),v("td",[t._v("alpha 版")]),t._v(" "),v("td",[t._v("内测版本，内部测试的版本，bug 较多")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[v("code",[t._v("β")]),t._v("或"),v("code",[t._v("b")])]),t._v(" "),v("td",[t._v("beta 版")]),t._v(" "),v("td",[t._v("公测版本，给外部进行测试的版本，有缺陷")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[v("code",[t._v("γ")]),t._v("或"),v("code",[t._v("g")])]),t._v(" "),v("td",[t._v("Gamma 版")]),t._v(" "),v("td",[t._v("相当成熟的测试版，于发行版相差无几")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[v("code",[t._v("rc")])]),t._v(" "),v("td",[t._v("Release Candidate")]),t._v(" "),v("td",[t._v("是前面三种测试版的进一步版本，实现了全部功能，清除了大部分 bug，接近发布倒计时，有时会进一步细分为 rc1,rc2")])])])]),t._v(" "),v("blockquote",[v("p",[t._v("实际上大部分前端工具均遵守上述规则")])]),t._v(" "),v("p",[t._v("在商业软件中还会见到如下字段.")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",{staticStyle:{"text-align":"left"}},[t._v("描述方式")]),t._v(" "),v("th",[t._v("说明")]),t._v(" "),v("th",[t._v("含义")])])]),t._v(" "),v("tbody",[v("tr",[v("td",{staticStyle:{"text-align":"left"}},[v("code",[t._v("Demo")])]),t._v(" "),v("td",[t._v("演示版")]),t._v(" "),v("td",[t._v("只集成了正式版部分功能，无法升级")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[v("code",[t._v("SP")])]),t._v(" "),v("td",[t._v("SP1")]),t._v(" "),v("td",[t._v("是 service pack 的意思表示升级包")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[v("code",[t._v("Trial")])]),t._v(" "),v("td",[t._v("试用版")]),t._v(" "),v("td",[t._v("试用版")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[v("code",[t._v("Unregistered")])]),t._v(" "),v("td",[t._v("未注册")]),t._v(" "),v("td",[t._v("有功能或时间限制的版本")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[v("code",[t._v("Lite")])]),t._v(" "),v("td",[t._v("精简版")]),t._v(" "),v("td",[t._v("只含有正式版核心功能")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[v("code",[t._v("enhance")])]),t._v(" "),v("td",[t._v("增强版")]),t._v(" "),v("td",[t._v("属于正式版1")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[v("code",[t._v("free")])]),t._v(" "),v("td",[t._v("免费版")]),t._v(" "),v("td",[t._v("自由使用版本")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[v("code",[t._v("release")])]),t._v(" "),v("td",[t._v("发行版")]),t._v(" "),v("td",[t._v("有时间限制")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[v("code",[t._v("upgrade")])]),t._v(" "),v("td",[t._v("升级版")]),t._v(" "),v("td",[t._v("有功能增强或修复 bug")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[v("code",[t._v("Retail")])]),t._v(" "),v("td",[t._v("零售版")]),t._v(" "),v("td",[t._v("单独发售")])]),t._v(" "),v("tr",[v("td",{staticStyle:{"text-align":"left"}},[v("code",[t._v("Cardware")])]),t._v(" "),v("td",[t._v("共享版")]),t._v(" "),v("td",[t._v("公用许可证")])])])]),t._v(" "),v("h2",{attrs:{id:"版本限定"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#版本限定","aria-hidden":"true"}},[t._v("#")]),t._v(" 版本限定")]),t._v(" "),v("p",[t._v("在进行包管理时,为了保证安装依赖的兼容性.\n必须对依赖包版本进行限定.参考  "),v("a",{attrs:{href:"https://docs.npmjs.com/misc/semver",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm 限定描述"),v("OutboundLink")],1),t._v("\n举例如下")]),t._v(" "),v("div",{staticClass:"language-json extra-class"},[v("pre",{pre:!0,attrs:{class:"language-json"}},[v("code",[v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"devDependencies"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"karma"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.13.22"')]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),v("p",[t._v("表示安装 "),v("code",[t._v("0.13.22")]),t._v(" 版本的 karma.")]),t._v(" "),v("p",[t._v("为了方便理解,版本限定的语法简述为为 "),v("code",[t._v("[范围描述]<版本号描述>")])]),t._v(" "),v("ul",[v("li",[v("p",[t._v("范围描述可选,必须配和版本描述确定范围,无法独立存在")]),t._v(" "),v("ul",[v("li",[v("p",[v("code",[t._v("<")]),t._v(" 小于某一版本号")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("<=")]),t._v(" 小于等于某一版本号")])]),t._v(" "),v("li",[v("p",[v("code",[t._v(">")]),t._v(" 大于某一版本号")])]),t._v(" "),v("li",[v("p",[v("code",[t._v(">=")]),t._v(" 大于等于某一版本号")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("=")]),t._v(" 等于某一版本号,没有意义和直接写该版本号一样")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("~")]),t._v(" 基于版本号描述的最新补丁版本")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("^")]),t._v(" 基于版本号描述的最新兼容版本")])]),t._v(" "),v("li",[v("p",[v("code",[t._v("-")]),t._v(" 某个范围,"),v("strong",[t._v("他应该出现在两个版本描述中间,实际上语法应为 "),v("code",[t._v("<版本描述>-<版本描述>")]),t._v(",写在此处为了统一")])]),t._v(" "),v("p",[t._v("严格来讲对 "),v("code",[t._v("~,^")]),t._v(" 的表述需要结合具体的包管理工具和版本号规则来确定.但是对于一般使用记住如下原则.\n"),v("strong",[v("code",[t._v("^")]),t._v("  是确保版本兼容性时,默认对次版本号的限定约束")]),t._v(" "),v("strong",[v("code",[t._v("~")]),t._v("  是确保版本兼容性时,默认对补丁号的约束")])])])]),t._v(" "),v("blockquote",[v("p",[t._v("利用 "),v("code",[t._v("^,~")]),t._v(" 的意义在于确保工具包对依赖版本的兼容性,排除主版本更迭,\n造成依赖失效的可能.")])])]),t._v(" "),v("li",[v("p",[t._v("版本描述")]),t._v(" "),v("ul",[v("li",[v("code",[t._v("*")]),t._v(" 通配符,类似 "),v("code",[t._v("glob")]),t._v(" 模式 "),v("code",[t._v("*")])]),t._v(" "),v("li",[v("code",[t._v("x,X")]),t._v(" 约等于 "),v("code",[t._v("*")]),t._v(" 号,通常用于次版本和补丁的通配.")]),t._v(" "),v("li",[v("code",[t._v("0")]),t._v(" 警惕这个字符,说明该依赖还未稳定("),v("strong",[t._v("如果它遵守语义化命名的话")]),t._v("),此外当该字符出现在最前面时,会改变 "),v("code",[t._v("^,~")]),t._v(" 的限定特性.")])])])]),t._v(" "),v("p",[t._v("相关举例如下")]),t._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v('< 1.2.3     小于1.2.3 的版本均可 \n= 1.2.3     只支持等于1.2.3 的版本 \n<= 1.2.3    只支持小于等于1.2.3 的版本\n> 1.2.3     只支持大于 1.2.3 的版本\n>= 1.2.3    只支持大于等于 1.2.3 的版本\n1.2.3-2     支持 >=1.2.3 <3.0.0 的版本\n1.x.1       支持 >=1.0.1 <1.1.0 的版本\n*           支持 >= 0.0.0 的版本\n""          同 *\n1           表示 >=1.0.0 <2.0.0 其余任意位置为空相似\n1.0         >= 1.0.0 < 1.1.0\n~1.1.1      >=1.1.1 <1.2.0\n~1.1        >=1.1.0 <1.2.0\n~1          >=1.0.0 <2.0.0\n^1.1.1      >=1.1.1 <2.0.0\n^0.1.1      >=0.1.1 <0.2.0 注意这里,不要以为是 0.1.1-1.0.0 之间\n^0.0.1      >=0.0.1 <0.0.2 同上,请注意\n')])])]),v("blockquote",[v("p",[t._v("注意大部分包管理工具均遵守上述规则,但是在进行版本限定时,请参考包管理工具的配置项说明,确定语法格式.")])]),t._v(" "),v("h2",{attrs:{id:"总结"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),v("p",[t._v("最常用的知识")]),t._v(" "),v("h3",{attrs:{id:"核心命名规则"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#核心命名规则","aria-hidden":"true"}},[t._v("#")]),t._v(" 核心命名规则")]),t._v(" "),v("ul",[v("li",[t._v("版本号通常称为 "),v("code",[t._v("x.y.z")]),t._v(" "),v("ul",[v("li",[t._v("x 主版本号,一般向下不兼容时增加此值")]),t._v(" "),v("li",[t._v("y 次版本号,向下兼容,添加新特性时增加此值")]),t._v(" "),v("li",[t._v("z 补丁号,修复问题为改变特性时增加此值")]),t._v(" "),v("li",[v("code",[t._v("a,b,rc")]),t._v(" 分别表示 内测,公测,发行状态")])])])]),t._v(" "),v("h3",{attrs:{id:"版本限定-2"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#版本限定-2","aria-hidden":"true"}},[t._v("#")]),t._v(" 版本限定")]),t._v(" "),v("ul",[v("li",[v("code",[t._v("~")]),t._v(" 在依赖版本兼容下,最近的补丁版")]),t._v(" "),v("li",[v("code",[t._v("^")]),t._v(" 在依赖版本兼容下,最近的次版本")])]),t._v(" "),v("blockquote",[v("p",[t._v("重点是保证版本依赖的兼容性,不允许出现依赖的主版本号范围可变,即使你的开发包依旧可用")])]),t._v(" "),v("h2",{attrs:{id:"参考资料"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),v("p",[v("a",{attrs:{href:"http://semver.org/lang/zh-CN/",target:"_blank",rel:"noopener noreferrer"}},[t._v("语义化版本规范"),v("OutboundLink")],1)]),t._v(" "),v("p",[v("a",{attrs:{href:"https://docs.npmjs.com/misc/semver",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm 版本说明"),v("OutboundLink")],1)]),t._v(" "),v("p",[v("a",{attrs:{href:"https://getcomposer.org/doc/articles/versions.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("composer version constraints"),v("OutboundLink")],1)]),t._v(" "),v("p",[v("a",{attrs:{href:"http://wenku.baidu.com/view/267166728e9951e79b892703.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("百度文库-版本说明详解"),v("OutboundLink")],1)]),t._v(" "),v("p",[v("a",{attrs:{href:"https://www.wikiwand.com/en/Software_versioning",target:"_blank",rel:"noopener noreferrer"}},[t._v("wiki 软件版本"),v("OutboundLink")],1)]),t._v(" "),v("p",[v("a",{attrs:{href:"http://serve.3ezy.com/stackoverflow.com/questions/22343224/",target:"_blank",rel:"noopener noreferrer"}},[t._v("What's the difference between tilde(~) and caret(^) in package.json"),v("OutboundLink")],1)])])},[],!1,null,null,null);e.default=a.exports}}]);