<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<style>
		.bg {
			background: radial-gradient(#e66465, rgb(60, 52, 136), #22936de5);
			height: 100px;
			width: 100px;
			border-radius: 50%;
		}
	</style>
</head>

<body>
	<h1>验证 fps 动态渲染,辅助理解 FPS 含义</h1>
	<div>
		<input id="frequency" type="range" name="volume" min="1" max="100" value="1">
		<label for="volume">频率 <span>1</span> 次/秒</label>
	</div>
	<div>
		<input  id="size" type="range" name="volume" min="100" max="1000" step="100" value="100">
		<label for="volume">圆盘大小 <span>100</span>px</label>
	</div>
	<div class="bg">
	</div>
</body>
<script>
	let div = document.querySelector('.bg');
	let input = document.querySelector('#frequency')
	let inputSize = document.querySelector('#size')
	let loopInterval = 1000; // 单位 ms
	let radius = '100px'; // 单位 ms

	loop(div);
	input.onchange = function (e) {
		let { value } = e.target;
		let frequency = value;
		let interval = 1000/value;
		e.target.nextElementSibling.firstElementChild.textContent = frequency
		loopInterval = interval;
	}
	inputSize.onchange = function (e) {
		let { value } = e.target;
		e.target.nextElementSibling.firstElementChild.textContent = value
		radius = `${value}px`
	}

	function loop(el) {
		changeStyle(el);
		window.setTimeout(loop.bind(this,el), loopInterval);
	}

	function changeStyle(el) {
		let colors = createColors(10);
		let i = 2e7
		while(i--);
		el.style.background = `radial-gradient(${colors.join(',')})`;
		el.style.width = el.style.height = radius;
	}
	function createColors(num) {
		return Array.from(Array(num), randomColor)
	}
	function randomColor() {
		return '#' + (~~(Math.random() * (2 ** 24 - 1))).toString(16)
	}
</script>

</html>